window.inspectorToolPanels.agent=function(e,n){e.data||(e.data={}),e.data.model||(e.data.model="gpt-3.5-turbo");let t="";("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)&&(t+='<option value="llama-3.2">llama 3.2</option>'),t+='<option value="gpt-3.5-turbo">gpt 3.5 turbo</option>';const o=window.runtimeState.getNodeState(window.currentInspectedNodeId),a=o&&void 0!==o.error?o.error:null;n.innerHTML=`\n        <div>\n            <div id="agent-error-modal" style="${a?"display:block;":"display:none;"} background:rgba(255,90,90,0.18); color:#fff; padding:10px; border-radius:10px; font-size:16px; z-index:4000; box-shadow:0 2px 8px rgba(0,0,0,0.18); text-align:left; pointer-events:none; margin-bottom:10px; border-left:5px solid #ff5a5a;">\n                <span id="agent-error-badge" style="font-weight:600; vertical-align:middle; display:inline-block; width:22px; height:22px; margin-right:0px; margin-top: 1px; margin-left: 5px;">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-octagon-x-icon lucide-octagon-x"><path d="m15 9-6 6"/><path d="M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z"/><path d="m9 9 6 6"/></svg>\n                </span>\n                <span id="agent-error-message" style="margin-left:5px; margin-top: 3px;">${a||"oops something went horribly wrong :("}</span>\n            </div>\n\n            <label for="agent-model">Model:</label>\n            <select id="agent-model">${t}</select>\n            <p>Prompt:</p>\n            <pre id="agent-prompt">${o&&o.prompt?o.prompt:"No prompt set"}</pre>\n            <p>Inference:</p>\n            <pre id="agent-inference">${o&&o.inference?o.inference:"No inference yet"}</pre>\n        </div>\n    `;const r=n.querySelector("#agent-model");r.value=e.data.model||"gpt-3.5-turbo",r.addEventListener("change",function(n){e.data.model=n.target.value;const t={metadata:{lastScratchProjectId:window.lastScratchProjectId||null},nodes:window.nodeData};localStorage.setItem("nodes",JSON.stringify(t))})};