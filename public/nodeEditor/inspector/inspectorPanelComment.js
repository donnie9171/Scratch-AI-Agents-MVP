window.inspectorToolPanels.comment=function(e,t){t.innerHTML=`\n        <div id="comment-panel-container" style="display: flex; height: 100%;">\n            <div id="comment-editor" style="flex: 1; padding: 10px; overflow: auto;">\n                <textarea id="markdown-editor" style="font-family: monospace;">${e.data.markdown||""}</textarea>\n            </div>\n            <div id="resize-handle" style="width: 5px; cursor: ew-resize; position: relative;">\n                <button id="hide-editor" class="hide-button left" style="position: absolute;  top: 50%; transform: translateY(-50%);">◀</button>\n                <button id="hide-preview" class="hide-button right" style="position: absolute; top: 50%; transform: translateY(-50%);">▶</button>\n            </div>\n            <div id="comment-preview" style="flex: 1; padding: 10px; overflow: auto;">\n                <div id="markdown-preview">${marked.parse(e.data.markdown||"")}</div>\n            </div>\n        </div>\n    `;const n=t.querySelector("#markdown-editor"),o=t.querySelector("#markdown-preview"),i=t.querySelector("#resize-handle"),l=t.querySelector("#comment-editor"),d=t.querySelector("#comment-preview"),s=t.querySelector("#hide-editor"),r=t.querySelector("#hide-preview");n.addEventListener("input",function(){e.data.markdown=n.value,o.innerHTML=marked.parse(n.value);const t={metadata:{lastScratchProjectId:window.lastScratchProjectId||null},nodes:window.nodeData};localStorage.setItem("nodes",JSON.stringify(t))});let a=!1,y=0,c=0;i.addEventListener("mousedown",function(e){e.target===i&&(a=!0,y=e.clientX+20,c=l.offsetWidth,document.body.style.cursor="ew-resize",document.body.style.userSelect="none")}),document.addEventListener("mousemove",function(e){if(!a)return;"none"===l.style.display&&(l.style.display="",l.style.flex="0 0 1px"),"none"===d.style.display&&(d.style.display="");const n=e.clientX-y,o=c+n,i=t.querySelector("#comment-panel-container").offsetWidth;o>0&&o<i-0&&(l.style.flex=`0 0 ${o}px`,d.style.flex="1 1 0")}),document.addEventListener("mouseup",function(){a&&(a=!1,document.body.style.cursor="",document.body.style.userSelect="")}),s.addEventListener("click",function(){"none"===d.style.display?(l.style.display="",d.style.display="",l.style.flex="1",d.style.flex="1"):(l.style.display="none",d.style.flex="1")}),r.addEventListener("click",function(){"none"===l.style.display?(l.style.display="",d.style.display="",l.style.flex="1",d.style.flex="1"):(d.style.display="none",l.style.flex="1")}),s.click()};